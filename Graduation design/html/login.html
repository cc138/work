<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Title</title>
    <link rel="stylesheet" href="../css/chat.css">
    <link rel="stylesheet" href="../css/chat_emoji.css">
    <script src="../js/jquery-3.4.1.min.js"></script>
</head>
<body>
<div id="login">
    <div class="login_wrap">
        <div class="head">
            <h3>MyChat v1.1</h3>
            <div class="quit">
                <p>×</p>
            </div>
        </div>
        <div class="head_img">
            <div class="btn_left btn">〈</div>
            <div class="btn_right btn">〉</div>
            <div class="img">
                <img src="../imgs/headimg10.jpg" alt="" width="100%" height="100%">
            </div>
        </div>
        <div class="login">
            <input type="text" id="name" placeholder="你的名字">
            <input type="button" value="登录" class="login_entrance">
        </div>
    </div>
</div>
<script src="../my-chat/socket.io.js"></script>
<script>
    //随机名称
    var socket=io.connect("ws://localhost:3000");
    function Random(){
        var str="路人";
        for (let i=0;i<6;i++){
            str+=parseInt(Math.random()*10);
        }
        return str;
    }
    //点击登录，发送名称
    $(function () {
        $(".login_entrance").click(function () {
            var idName=document.querySelector("#name");
            if (idName.value){
                window.location='./chat.html?id='+idName.value;
            }else {
                // idName.value=Random();
                window.location='./chat.html?id='+Random();
            }
        });
    })
</script>
<script src="../js/chat.js"></script>
</body>
</html>